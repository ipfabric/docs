{
    "properties": {
        "roleName": "IPF discovery role 7.8",
        "description": "Permissions needed for IP Fabric to discover Azure network infrastructure",
        "assignableScopes": [],
        "permissions": [
            {
                "actions": [
                    "Microsoft.Compute/galleries/images/read",
                    "Microsoft.Compute/virtualMachines/instanceView/read",
                    "Microsoft.Compute/virtualMachines/read",
                    "Microsoft.Compute/virtualMachines/vmSizes/read",
                    "Microsoft.Network/*/read",
                    "Microsoft.Network/connections/getikesas/action",
                    "Microsoft.Network/networkInterfaces/effectiveNetworkSecurityGroups/action",
                    "Microsoft.Network/networkInterfaces/effectiveRouteTable/action",
                    "Microsoft.Network/virtualHubs/effectiveRoutes/action",
                    "Microsoft.Network/virtualNetworkGateways/getbgppeerstatus/action",
                    "Microsoft.Network/virtualNetworkGateways/getlearnedroutes/action",
                    "Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections/getikesas/action",
                    "Microsoft.Resources/subscriptions/locations/read",
                    "Microsoft.Resources/subscriptions/resourceGroups/read",
                    "Microsoft.Resources/subscriptions/read",
                    "Microsoft.Network/loadBalancers/loadBalancingRules/health/action",
                    "Microsoft.Network/loadBalancers/health/action",
                    "Microsoft.Network/loadBalancers/backendAddressPools/health/action",
                    "Microsoft.Network/applicationGateways/getBackendHealthOnDemand/action",
                    "Microsoft.Network/applicationGateways/backendhealth/action",
                    "Microsoft.Compute/virtualMachineScaleSets/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/read",
                    "Microsoft.Compute/virtualMachineScaleSets/networkInterfaces/read",
                    "Microsoft.Network/expressRouteCircuits/peerings/arpTables/read",
                    "Microsoft.Network/expressRouteCircuits/peerings/routeTables/read",
                    "Microsoft.Network/expressRouteCircuits/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/instanceView/read",
                    "Microsoft.Network/privateEndpoints/read",
                    "Microsoft.Network/applicationGateways/privateEndpointConnections/read",
                    "Microsoft.Network/privateLinkServices/read",
                    "Microsoft.Network/serviceEndpointPolicies/read",
                    "Microsoft.Network/azurefirewalls/read",
                    "Microsoft.Network/firewallPolicies/ruleCollectionGroups/read",
                    "Microsoft.Network/firewallPolicies/read",
                    "Microsoft.Network/azurefirewalls/learnedIPPrefixes/action",
                    "Microsoft.Web/sites/Read",
                    "microsoft.app/managedenvironments/read",
                    "microsoft.app/containerapps/read",
                    "Microsoft.Sql/managedInstances/read",
                    "Microsoft.DBforMySQL/flexibleServers/read",
                    "Microsoft.DBforPostgreSQL/flexibleServers/read"
                ],
                "notActions": [],
                "dataActions": [],
                "notDataActions": []
            }
        ]
    }
  }